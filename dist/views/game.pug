html
    head
        link(href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" rel="stylesheet"  type='text/css')
        style
            include looks.css
        script(src='https://code.jquery.com/jquery-latest.min.js')
        script(src='https://cdn.rawgit.com/nnattawat/flip/master/dist/jquery.flip.min.js')
        script(type='text/javascript').
                function allowDrop(ev) {
                    ev.preventDefault();
                }

                function drag(ev) {
                    ev.dataTransfer.setData("text", ev.target.id);
                }

                function drop(ev) {
                    ev.preventDefault();
                    var data = ev.dataTransfer.getData("text");
                    ev.target.appendChild(document.getElementById(data));
                }



                //Draft for Popup Instructions Functions
                $(function(){ 
                    $('.inst_button ').on('click',function(){
                        $('.inst').css({
                            'transform':'translateY(0)','z-index':'999'
                        });
    
                     $('body').addClass('overlay');

    
                     $(this).css({
                        'z-index':'-1'
                     });
    
                    $('.inst > .close').on('click',function(){
                        $(this).parent().css({
                            'transform':'translateY(-300%)'
                        });
     
                        $('body').removeClass('overlay');
                            $(this).parent().siblings('.btn').css({
                                'z-index':'1'
                            });
                    });
                    });
                });

                //Leaderboard button: 
                $(function(){ 
                    $('.lead_button').on('click',function(){
                        $('.lead').css({
                            'transform':'translateY(-125%)','z-index':'800'
                        });
    
                     $('body').addClass('overlay');

    
                     $(this).css({
                        'z-index':'-1'
                     });
    
                    $('.lead > .close').on('click',function(){
                        $(this).parent().css({
                            'transform':'translateY(-400%)'
                        });
     
                        $('body').removeClass('overlay');
                            $(this).parent().siblings('.btn').css({
                                'z-index':'1'
                            });
                    });
                    });
                });
                
                //End draft

                $(document).ready(function() {

                    let c = $(".card"); //flipping the images
                    c.flip({axis:'y', trigger:'click'});

                    let c1 = $(".card1");
                      c.flip({axis:'y', trigger:'click'});
                    //test 2nd column 
                
                
                    var getOriginalPosition = function() {
                        $('#div1 img').each( function() {
                            //original position = row#column#
                            //var op = $(this).parent().attr('id');
                            var op = $(this).parents().eq(2).attr('id');
                            $(this).attr('data-op', op);
                        });
                    }

                    getOriginalPosition();
                    
                    var score = 0;
                    $('#check').on("click", function(e) {
                        e.preventDefault();

                        //remove previous answer check
                        $('#result').empty();
                        $('#score').empty();
                        var reactant = $('#reactant').children('img').attr('id');
                        var reagent = $('#reagent').children('img').attr('id');
                        var product = $('#product').children('img').attr('id');

                        //check answer
                        if ((reactant == "drag1" && reagent == "drag2" && product == "drag3")
                        || (reactant == "drag4" && reagent == "drag5" && product == "drag6")
                        || (reactant == "drag7" && reagent == "drag8" && product == "drag9")) {
                            score++;
                            $('#result').append("<p>Correct</p>")
                            $('#score').append("<p>Score: "+score+"</p>")
                        } else {
                            score--;
                            $('#result').append("<p>Incorrect</p>")
                            $('#score').append("<p>Score: "+score+"</p>");
                        }
                        $('#result').append($("<button id='clear_answers'>Clear</button>"));
                        
                         //clear answer choices and return to original position 
                            $('#clear_answers').on("click", function(e) {
                                e.preventDefault();
                                //appends card to previous table position (row#column#)
                                $('#div2 img').each( function() {
                                    $('#' + $(this).attr('data-op') + ' .front').append($(this));
                                });
                                $('#result').empty();
                            });
                    });
                    
                });

    <body>
        <div class="content">
        <div id='header'>
            <img src="http://i68.tinypic.com/9bhxqg.png" alt="LOGO" width="25%" align="middle">
        </div>
        <div id='buttons'>
            <button class="inst_button" > Instructions </button>
            <button class="lead_button" > Leaderboard </button>
            <button class="toggle"> Mode Toggle </button>
            <div class="inst">
                <h1> Instructions here </h1>
                <div class="close"> X </div>
            </div>
            <div class="lead">
                <h1> Leaderboard here </h1>
                <div class="close"> X </div>
            </div>
        </div>

        <!-- Currently displayed that each row is a solution -->
        <table id="div1" ondrop="drop(event)" ondragover="allowDrop(event)">
            <tr>
                <th id='r1c1'>
                    <div class="card">
                        <div class="front">
                            <img src="http://opsin.ch.cam.ac.uk/opsin/butyric%20acid.png" alt="butyric acid" draggable="true" ondragstart="drag(event)" id="drag1">
                        </div> 
                        <div class="back">
                            <p> butyric acid</p>
                        </div>
                    </div> 
                </th>
                <th id='r1c2'>
                    <div class="card">
                        <div class="front">
                            <img src="http://opsin.ch.cam.ac.uk/opsin/thionyl%20chloride.png" alt="thionyl chloride" draggable="true" ondragstart="drag(event)" id="drag2">
                        </div> 
                        <div class="back">
                            <p> thionyl chloride</p>
                        </div>
                    </div>
                </th>
                <th id='r1c3'>
                    <div class="card">
                        <div class="front">
                             <img src="http://opsin.ch.cam.ac.uk/opsin/butyryl%20chloride.png" alt="butyryl chloride" draggable="true" ondragstart="drag(event)" id="drag3">
                        </div> 
                        <div class="back">
                            <p> butyryl chloride</p>
                        </div>
                    </div>
                </th>
                <th id='r1c4'>
                    <p> Placeholder </p>
                </th>
            </tr>
            <tr> 
                <th id='r2c1'>
                    <div class="card">
                        <div class="front">
                             <img src="http://opsin.ch.cam.ac.uk/opsin/butyryl%20chloride.png" alt="butyryl chloride" draggable="true" ondragstart="drag(event)" id="drag4">
                        </div> 
                        <div class="back">
                            <p> butyryl chloride</p>
                        </div>
                    </div>
                </th>
                <th id='r2c2'>
                    <div class="card">
                        <div class="front">
                             <img src="http://opsin.ch.cam.ac.uk/opsin/sodium%20methoxide.png" alt="sodium methoxide" draggable="true" ondragstart="drag(event)" id="drag5">
                        </div> 
                        <div class="back">
                            <p>sodium methoxide</p>
                        </div>
                    </div>
                </th>
                <th id='r2c3'>
                    <div class="card">
                        <div class="front">
                             <img src="http://opsin.ch.cam.ac.uk/opsin/methyl%20butyrate.png" alt="methyl butyrate" draggable="true" ondragstart="drag(event)" id="drag6">
                        </div> 
                        <div class="back">
                            <p>methyl butyrate</p>
                        </div>
                    </div>                    
                </th>
                <th id='r2c4'>
                    <p> Placeholder </p>
                </th>
            </tr>
            <tr>
                <th id='r3c1'>
                    <div class="card">
                        <div class="front">
                            <img src="http://opsin.ch.cam.ac.uk/opsin/1-butanol.png" alt="1-butanol" draggable="true" ondragstart="drag(event)" id="drag7">
                        </div> 
                        <div class="back">
                            <p>1-butanol</p>
                        </div>
                    </div> 
                </th>
                <th id='r3c2'>
                    <div class="card">
                        <div class="front">
                            <img src="http://opsin.ch.cam.ac.uk/opsin/pyridinium%20chlorochromate.png" alt="pyridinium chlorochromate" draggable="true" ondragstart="drag(event)" id="drag8"> 
                        </div> 
                        <div class="back">
                            <p>pyridinium chlorochromate</p>
                        </div>
                    </div>  
                </th>
                <th id='r3c3'>
                    <div class="card">
                        <div class="front">
                            <img src="http://opsin.ch.cam.ac.uk/opsin/butyraldehyde.png" alt="butyraldehyde" draggable="true" ondragstart="drag(event)" id="drag9"> 
                        </div> 
                        <div class="back">
                            <p>butyraldehyde</p>
                        </div>
                    </div> 
                </th>
                <th id='r3c4'>
                    <p> Placeholder </p>
                </th>
            </tr>
            <tr>
                <th id='r4c1'> <p> Placeholder </p></th>
                <th id='r4c2'><p> Placeholder </p></th>
                <th id='r4c3'><p> Placeholder </p></th>
                <th id='r3c4'><p> Placeholder </p></th>
            </tr>
        </table>

        <table id="div2" ondrop="drop(event)" ondragover="allowDrop(event)">
            <tr>
                <th class='sub_box' id="reactant"> </th>
                <th class='symbol' id="plus">+ </th>
                <th class='sub_box' id="reagent"> </th>
                <th class='symbol' id="arrow">=</th>
                <th class='sub_box' id="product"> </th>
            </tr>
        </table>
        <div id='submit'>
            <button class='submit' id='check'>Submit</button>
        </div>
        <div id="result"></div>
        <div id='score'></div>
        </div>
    </body>
